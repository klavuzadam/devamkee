target . delete ( "__TARGET__" ) 
npc_name ( ) 
local can_start = desert_third_quest . can_start_quest ( ) 
if can_start == "low_lvl" then 
say_split ( msg ( translate . reputation . quest_low_lvl , 50 ) ) 
return 
elseif can_start == "low_reputation" then 
local rank = get_reputation_rank_by_total_value ( 15000 ) 
say_split ( msg ( translate . reputation . quest_low_reputation , translate . reputation . reputation_rank [ rank + 1 ] ) ) 
return 
elseif can_start == "delay" then 
say_split ( translate . reputation . quest_wait ) 
return 
end 
say_split ( translate . reputation_desert . third . desc ) 
say ( ) 
local data = desert_third_quest . task_data ( ) 
local quest_index = number ( 1 , table . getn ( data ) ) 
local task_data = data [ quest_index ] 
say_reward ( msg ( translate . reputation_desert . third . task , task_data [ 2 ] , mob_name ( task_data [ 1 ] ) ) ) 
pc . setqf ( "quest_index" , quest_index ) 
pc . setqf ( "reset_time" , get_time ( ) + time_until_hour ( GLOBAL_COOLDOWN_RESET_HOUR ) ) 
pc . setqf ( "progress" , task_data [ 2 ] ) 
set_state ( "progress" ) 
