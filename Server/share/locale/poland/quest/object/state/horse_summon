horse_summon={["start"]=0,["__COMPLETE__"]=668443392,get_horse_summon_prob_pct= function ()local skill_level = pc . get_skill_level ( 131 ) 
if skill_level == 1 then 
return 15 
elseif skill_level == 2 then 
return 20 
elseif skill_level == 3 then 
return 30 
elseif skill_level == 4 then 
return 40 
elseif skill_level == 5 then 
return 50 
elseif skill_level == 6 then 
return 60 
elseif skill_level == 7 then 
return 70 
elseif skill_level == 8 then 
return 80 
elseif skill_level == 9 then 
return 90 
elseif skill_level >= 10 then 
return 100 
end 
return 10 
end ,summon_horse= function (item)if is_on_war_map ( ) then 
syschat ( get_lctext ( "You cannot summon horse here." ) ) 
return 
end 
if horse . get_grade ( ) == 0 then 
say_title ( gameforge . buy_fishrod . _210_sayTitle ) 
say ( gameforge . horse_summon . _120_say ) 
elseif horse . get_grade ( ) == ( item - 50050 ) then 
if horse . is_summon ( ) or horse . is_riding ( ) then 
syschat ( gameforge . horse_summon . already_summoned ) 
return 
end 
local sp_req = horse . get_grade ( ) * 100 
if pc . getsp ( ) >= sp_req then 
if number ( 1 , 100 ) <= horse_summon . get_horse_summon_prob_pct ( ) then 
chat ( gameforge . horse_summon . summon_success ) 
horse . summon ( ) 
else 
syschat ( gameforge . horse_summon . summon_fail_1 ) 
syschat ( gameforge . horse_summon . summon_fail_2 ) 
end 
pc . change_sp ( - sp_req ) 
else 
chat ( string . format ( gameforge . horse_summon . to_low_sp , sp_req ) ) 
end 
else 
say_title ( gameforge . buy_fishrod . _210_sayTitle ) 
local horse_grade = string . format ( "horse_grade_%d" , horse . get_grade ( ) ) 
say ( gameforge . horse_summon [ horse_grade ] ) 
end 
end }