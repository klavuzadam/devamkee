target . delete ( "__TARGET__" ) 
local gold = pc . count_item ( 50606 ) 
local silver = pc . count_item ( 50605 ) 
local ebony = pc . count_item ( 50608 ) 
if gold < 100 or silver < 100 or ebony < 100 then 
say_title ( gameforge . blacksmith . _20_sayTitle ) 
say ( gameforge . subquest_30 . _170_say ) 
local s = select ( gameforge . subquest_30 . _180_select , gameforge . subquest_30 . _190_select ) 
if 2 == s then 
say_title ( gameforge . blacksmith . _20_sayTitle ) 
say ( gameforge . subquest_30 . _200_say ) 
local a = select ( gameforge . subquest_12 . _select_yes , gameforge . subquest_12 . _select_no ) 
if 2 == a then 
say_title ( gameforge . subquest_09 . _50_sayTitle ) 
say ( gameforge . subquest_30 . _210_say ) 
return 
end 
say_title ( gameforge . blacksmith . _20_sayTitle ) 
say ( gameforge . subquest_30 . _220_say ) 
set_state ( "__GIVEUP__" ) 
return 
end 
say_title ( gameforge . subquest_09 . _50_sayTitle ) 
say ( gameforge . subquest_30 . _230_say ) 
return 
end 
if gold >= 100 and silver >= 100 and ebony >= 100 then 
say_title ( gameforge . blacksmith . _20_sayTitle ) 
say ( gameforge . subquest_30 . _240_say ) 
wait ( ) 
say_title ( gameforge . blacksmith . _20_sayTitle ) 
say ( gameforge . subquest_30 . _250_say ) 
pc . remove_item ( 50606 , 100 ) 
pc . remove_item ( 50605 , 100 ) 
pc . remove_item ( 50608 , 100 ) 
set_state ( "__COMPLETE__" ) 
give_reward ( "subquest_30" ) 
local weapon_reward_by_job = { 
[ JOB_SHAMAN ] = { 5035 , 7065 } , 
[ JOB_ASSASSIN ] = { 1035 , 2065 } , 
[ JOB_WARRIOR ] = { 75 , 3065 } , 
[ JOB_SURA ] = { 75 } 
} 
select_weapon_reward ( weapon_reward_by_job [ pc . job ] ) 
clear_letter ( ) 
end 
